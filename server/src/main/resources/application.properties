# datasource connection properties

spring.datasource.url=${SPRING_DB_URL}
spring.datasource.name=${SPRING_DB_NAME}
spring.datasource.username=${SPRING_DB_USERNAME}
spring.datasource.password=${SPRING_DB_PASSWORD}

# HikariCP Configuration - Fix for prepared statement cache issues
spring.datasource.hikari.connection-test-query=SELECT 1
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5

# PostgreSQL specific - Disable server-side prepared statements to avoid cache issues
spring.datasource.hikari.data-source-properties.prepareThreshold=0
spring.datasource.hikari.data-source-properties.preparedStatementCacheQueries=0
spring.datasource.hikari.data-source-properties.preparedStatementCacheSizeMiB=0

jwt.header=Authorization
jwt.base64-secret=${JWT_BASE64_SECRET}
jwt.secret=${JWT_SECRET}
jwt.expiration=604800
jwt.token-validity-in-seconds=86400
jwt.token-validity-in-seconds-for-remember-me=108000
jwt.route.authentication.path=/login
jwt.route.authentication.refresh=/refresh

server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=never

server.port=8080

# SendGrid Configuration
sendgrid.api.key=${SENDGRID_API_KEY}
sendgrid.template.welcome=${SENDGRID_WELCOME_TEMPLATE_ID}
sendgrid.from.email=${SENDGRID_FROM_EMAIL}
sendgrid.from.name=${SENDGRID_FROM_NAME}
